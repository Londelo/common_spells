# entry-service Documentation

## Metadata

- **Generated**: 2026-02-13
- **Source Repository**: `/Users/Brodie.Balser/Documents/TM/titan/entry-service`
- **Classification**: service
- **Branch**: develop

## Overview

Entry-service manages fan registrations (entries) for Verified Fan campaigns. It handles the complete lifecycle of fan entries including registration, validation, phone confirmation, scoring updates, market preference tracking, and eligibility determination for ticket allocations.

### Business Context

This service solves the critical business problem of managing fan registrations at scale for high-demand events. It ensures fair and verifiable fan participation by:
- Validating fan eligibility before allowing registration
- Tracking market (venue) preferences for multi-city tours
- Managing phone confirmation workflows to prevent duplicate/fraudulent entries
- Integrating with scoring systems to rank fans for ticket allocation
- Publishing registration data to downstream systems for analytics and selection

Without this service, the Verified Fan platform cannot accept registrations, track fan preferences, or determine who is eligible for ticket offers.

## Core Documentation

### Purpose & Business Context
- [Purpose Overview](dynamic/purpose-overview.md) - What this service does and why it exists
- [Use Cases & Workflows](dynamic/purpose-usecases.md) - Primary use cases and user journeys
- [Domain Concepts](dynamic/purpose-domain.md) - Business entities, rules, and terminology

### Architecture & Design
- [Architecture Structure](static/architecture-structure.md) - Directory layout and file organization
- [Architecture Patterns](static/architecture-patterns.md) - Design patterns and architectural style
- [Data Flow](static/architecture-dataflow.md) - How data moves through the system

### Dependencies
- [External Dependencies](dynamic/dependencies-external.md) - npm packages and versions
- [Internal Dependencies](dynamic/dependencies-internal.md) - @verifiedfan/* packages
- [Dependency Analysis](dynamic/dependencies-analysis.md) - Risk assessment and recommendations

## Technical Documentation

### API Contracts
- [API Contracts](dynamic/api-contracts.md) - GraphQL schema and REST endpoints
- [API Usage](dynamic/api-usage.md) - Examples, authentication, error handling

### Type Definitions
- [Type Definitions](dynamic/types-definitions.md) - GraphQL types, schemas, and enums
- [Type Usage](dynamic/types-usage.md) - Function signatures and validation patterns

### Infrastructure
- [Infrastructure Resources](static/infrastructure-resources.md) - AWS resources, databases, queues
- [Deployment](static/infrastructure-deployment.md) - CI/CD pipeline and environments
- [Operations](static/infrastructure-operations.md) - Monitoring, alerting, runbooks

### Testing
- [Testing Strategy](static/testing-strategy.md) - Framework, organization, patterns
- [Testing Coverage](static/testing-coverage.md) - Coverage metrics and gaps

### Code Quality
- [Coding Conventions](dynamic/style-conventions.md) - Naming, formatting, linting rules
- [Code Complexity](dynamic/style-complexity.md) - Complexity analysis and metrics

## Agent Status

All documentation agents completed successfully:

| Agent | Status | Files Generated |
|-------|--------|----------------|
| Architecture | âœ… Success | 3 files (structure, patterns, dataflow) |
| Dependencies | âœ… Success | 3 files (external, internal, analysis) |
| Infrastructure | âœ… Success | 3 files (resources, deployment, operations) |
| API | âœ… Success | 2 files (contracts, usage) |
| Purpose | âœ… Success | 3 files (overview, usecases, domain) |
| Testing | âœ… Success | 2 files (strategy, coverage) |
| Coding Style | âœ… Success | 2 files (conventions, complexity) |
| Types | âœ… Success | 2 files (definitions, usage) |

**Total**: 8/8 agents succeeded | 20 documentation files generated

## Quick Facts

### Technology Stack
- **Framework**: Koa.js (Node.js)
- **Language**: JavaScript with ESLint FP (functional programming)
- **Database**: MongoDB Atlas
- **Authentication**: JWT
- **Testing**: Jest + Cucumber (BDD)
- **Infrastructure**: Docker + Kubernetes (Helm)
- **Observability**: Prometheus + Fluentd + OpenTelemetry

### Key Capabilities
- Fan registration with gate validation
- Phone confirmation via SMS
- Market preference tracking (up to 4 markets)
- Scoring integration and eligibility queries
- Batch operations for admin users
- Real-time registration analytics

### Integration Points
- Publishes events to AWS Kinesis
- Integrates with campaign-service, user-service
- Stores data in MongoDB Atlas
- Uses Nudetect for fraud detection
- Deployed across 5 environments (QA, Dev, PreProd, Prod East/West)

---

ðŸ’¡ **Generated by TM Repository Documentation System**
